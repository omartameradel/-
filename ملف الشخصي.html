<!DOCTYPE html><html lang="ar"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>الملف الشخصي</title><script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script><script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore-compat.js"></script><link rel="icon" type="image/png" href="https://i.ibb.co/9kvrBz1x/Screenshot-2025-06-12-193337.png">
  <style>
   body,button,input{font-family:Cairo,sans-serif}body{background-color:#f4f4f4;text-align:center;padding:20px}.profile-info{background-color:#fff;padding:20px;max-width:500px;margin:auto;border-radius:10px;box-shadow:0 0 10px rgba(0,0,0,.1)}.password-wrapper,button,input{max-width:300px;margin:10px auto}button,input{padding:10px;display:block;width:90%;border:1px solid #ccc;border-radius:5px}button{background-color:#2c3e50;color:#fff;cursor:pointer}button:hover{background-color:#1a252f}.toggle-visibility{cursor:pointer;position:absolute;right:20px;top:12px}.password-wrapper{position:relative}#passwordForm{display:none}
  </style>
</head>
<body>
  <h1>الملف الشخصي</h1>
  <div class="profile-info">
    <div>اسم المستخدم: <strong id="usernameDisplay"></strong></div>
    <div>
      <input type="tel" id="phoneInput" placeholder="رقم الهاتف">
      <button onclick="savePhone()">💾 حفظ رقم الهاتف</button>
    </div>
    <div>
      <button onclick="togglePasswordForm()">🔒 تغيير كلمة المرور</button>
    </div>
    <div id="passwordForm">
      <div class="password-wrapper">
        <input type="password" id="oldPassword" placeholder="كلمة المرور القديمة">
      </div>
      <div class="password-wrapper">
        <input type="password" id="newPassword" placeholder="كلمة المرور الجديدة">
      </div>
      <button onclick="changePassword()">✅ تأكيد تغيير كلمة المرور</button>
    </div>
  </div>
  <script>
   const firebaseConfig={apiKey:"AIzaSyDTyEZBO2U2UTWl-DJuJgYrS0oiKEDr6Jw",authDomain:"ahmed-saeed-669ab.firebaseapp.com",projectId:"ahmed-saeed-669ab"};firebase.initializeApp(firebaseConfig);const db=firebase.firestore(),username=sessionStorage.getItem("username")||"";function savePhone(){let e=document.getElementById("phoneInput").value.trim();if(!e)return alert("❌ اكتب رقم الهاتف أولًا");db.collection("users").doc(username).update({phone:e}).then(()=>{alert("✅ تم حفظ رقم الهاتف بنجاح")}).catch(e=>{console.error("خطأ في حفظ رقم الهاتف:",e),alert("❌ حدث خطأ أثناء الحفظ: "+e.message)})}function changePassword(){let e=document.getElementById("oldPassword").value.trim(),t=document.getElementById("newPassword").value.trim();if(!e||!t){alert("❌ أدخل كلمة المرور القديمة والجديدة");return}db.collection("users").doc(username).get().then(n=>{if(!n.exists)return alert("❌ المستخدم غير موجود");let o=n.data(),s=String(o.password||"").trim();if(e!==s){alert("❌ كلمة المرور القديمة غير صحيحة");return}if(e===t){alert("⚠️ لا يمكن استخدام نفس كلمة المرور");return}db.collection("users").doc(username).update({password:t}).then(()=>{alert("✅ تم تغيير كلمة المرور بنجاح"),document.getElementById("passwordForm").style.display="none"}).catch(e=>{console.error("خطأ في التحديث:",e),alert("❌ فشل تغيير كلمة المرور")})})}function togglePasswordForm(){let e=document.getElementById("passwordForm");e.style.display="none"===e.style.display?"block":"none"}document.getElementById("usernameDisplay").textContent=username,username&&db.collection("users").doc(username).get().then(e=>{if(e.exists){let t=e.data();t.phone&&(document.getElementById("phoneInput").value=t.phone)}else db.collection("users").doc(username).set({password:"",phone:""})}),window.addEventListener("contextmenu",function(e){e.preventDefault()}),document.addEventListener("keydown",function(e){let t=[e.ctrlKey&&"u"===e.key.toLowerCase(),"F12"===e.key,e.ctrlKey&&e.shiftKey&&"i"===e.key.toLowerCase(),e.ctrlKey&&e.shiftKey&&"c"===e.key.toLowerCase(),e.ctrlKey&&"s"===e.key.toLowerCase(),e.ctrlKey&&"p"===e.key.toLowerCase()];t.some(Boolean)&&(e.preventDefault(),alert("\uD83D\uDEAB هذا الإجراء غير مسموح على هذا الموقع."))}),window.onload=function(){document.getElementById("rightClickAlert").style.display="block"},document.addEventListener("keydown",function(e){e.ctrlKey&&"q"===e.key.toLowerCase()&&(e.preventDefault(),window.open("https://www.facebook.com/omar.tamer.adel","_blank"))});
  </script>
</body>
</html>
