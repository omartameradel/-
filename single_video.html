<!DOCTYPE html>


<html lang="ar" dir="rtl">

<head>


  <meta charset="UTF-8" />


  <meta name="viewport" content="width=device-width, initial-scale=1.0" />


  <title>المحتوى - عمر تامر محمد عادل</title>


    <link rel="icon" type="image/png" href="https://omartamer.netlify.app/صورة زعيم البرمجة.png">


  <link href="https://fonts.googleapis.com/css2?family=Cairo&display=swap" rel="stylesheet">


  <style>


  <meta charset="UTF-8" />


  <meta name="viewport" content="width=device-width, initial-scale=1.0" />


  <title>المحتوى - عمر تامر محمد عادل</title>


  <link rel="icon" type="image/png" href="https://omartamer.netlify.app/صورة زعيم البرمجة.png">


  <link href="https://fonts.googleapis.com/css2?family=Cairo&display=swap" rel="stylesheet">


  <style>

    body {

      margin: 0;

      font-family: 'Cairo', sans-serif;

@@ -48,95 +48,123 @@

      font-size: 24px;

      color: #777;

    }


    .timestamp {


      font-size: 14px;


      color: #888;


      margin-top: 10px;


    }


    .footer {


      text-align: center;


      margin-top: 20px;


      font-size: 14px;


      color: #555;


    }


    .footer a {


      color: #1e3799;


      text-decoration: none;


    }


    .footer a:hover {


      text-decoration: underline;


    }


    .footer p {


      margin: 5px 0;


    }


    .loading {


      font-size: 20px;


      color: #555;


    }

  </style>

</head>

<body>


  <div id="contentContainer" class="media-box">


    <div id="itemContent" class="loading">


      جاري تحميل المحتوى...


    </div>


  </div>





  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>


  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore-compat.js"></script>


  <script>


    const firebaseConfig = {


      apiKey: "AIzaSyCN9vN9zcPa6OCUnzin101OTtyOYBDSPEk",


      authDomain: "bluetooth-4791f.firebaseapp.com",


      projectId: "bluetooth-4791f",


      storageBucket: "bluetooth-4791f.firebasestorage.app",


      messagingSenderId: "80129288547",


      appId: "1:80129288547:web:05c480484ba5eb1b908b56",


      measurementId: "G-51VB9VFYFJ"


    };





    firebase.initializeApp(firebaseConfig);


    const db = firebase.firestore();





    const hash = window.location.hash;


    const itemContentDiv = document.getElementById('itemContent');





    function formatTimestamp(e) {


      if (!e) return "";


      let t = e.toDate();


      return `${t.toLocaleDateString()} - ${t.toLocaleTimeString()}`;


    }





    if (hash) {


      let collectionName = '';


      let docId = '';





      if (hash.startsWith('#video_')) {


        collectionName = 'videos';


        docId = hash.replace('#video_', '');


      } else if (hash.startsWith('#img_')) {


        collectionName = 'images';


        docId = hash.replace('#img_', '');


      } else if (hash.startsWith('#text_')) {


        collectionName = 'texts';


        docId = hash.replace('#text_', '');


      }





      if (collectionName && docId) {


        db.collection(collectionName).doc(docId).get()


          .then((doc) => {


            if (doc.exists) {


              const data = doc.data();


              let htmlContent = `<h2>${data.name || 'المحتوى'}</h2>`;





              if (collectionName === 'videos') {


                htmlContent += `


                  <video controls autoplay>


                    <source src="${data.url}" type="video/mp4">


                    متصفحك لا يدعم تشغيل الفيديو.


                  </video>`;


              } else if (collectionName === 'images') {


                htmlContent += `


                  <img src="${data.url}" alt="صورة">`;


              } else if (collectionName === 'texts') {


                htmlContent += `


                  <div class="text-content">${data.content}</div>`;


              }





              htmlContent += `<p class="timestamp">📅 ${formatTimestamp(data.timestamp)}</p>`;


              itemContentDiv.innerHTML = htmlContent;


              itemContentDiv.classList.remove('loading');


            } else {


              itemContentDiv.innerHTML = '<h2>عنصر المحتوى غير موجود!</h2>';


            }


          })


          .catch((error) => {


            console.error("Error getting document:", error);


            itemContentDiv.innerHTML = '<h2>حدث خطأ أثناء التحميل.</h2>';


          });


      } else {


        itemContentDiv.innerHTML = '<h2>رابط غير صالح.</h2>';


      }


    } else {


      itemContentDiv.innerHTML = '<h2>رابط غير صالح.</h2>';


    }


  </script>


</body>


</html>


  <div id="contentContainer" class="media-box">


    <div id="itemContent" class="loading">


      جاري تحميل المحتوى...


    </div>


  </div>





  <div class="footer">


    <p>جميع الحقوق محفوظة لــ(News)&copy; </p>


    <p>Developed by <a href="https://www.facebook.com/omar.tamer.adel">Omar Tamer</a></p>


  </div>





  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>


  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore-compat.js"></script>


  <script>


    const firebaseConfig = {





  apiKey: "AIzaSyCN9vN9zcPa6OCUnzin101OTtyOYBDSPEk",





  authDomain: "bluetooth-4791f.firebaseapp.com",





  projectId: "bluetooth-4791f",





  storageBucket: "bluetooth-4791f.firebasestorage.app",




  messagingSenderId: "80129288547",




  appId: "1:80129288547:web:05c480484ba5eb1b908b56",





  measurementId: "G-51VB9VFYFJ"





};








    firebase.initializeApp(firebaseConfig);


    const db = firebase.firestore();





    const hash = window.location.hash;


    const itemContentDiv = document.getElementById('itemContent');





    function formatTimestamp(e) {


      if (!e) return "";


      let t = e.toDate();


      return `${t.toLocaleDateString()} - ${t.toLocaleTimeString()}`;


    }





    if (hash && hash.startsWith('#video_')) {


        const docId = hash.replace('#video_', '');





        db.collection("videos").doc(docId).get()


          .then((doc) => {


            if (doc.exists) {


              const data = doc.data();


              let htmlContent = `<h2>${data.name || 'المحتوى'}</h2>`;





              // الفيديو


              if (data.videoUrl) {


                htmlContent += `


                  <video controls autoplay>


                    <source src="${data.videoUrl}" type="video/mp4">


                    متصفحك لا يدعم تشغيل الفيديو.


                  </video>`;


              }





              // الصورة


              if (data.imageUrl) {


                htmlContent += `


                  <img src="${data.imageUrl}" alt="صورة">`;


              }





              // النص


              if (data.textContent) {


                htmlContent += `


                  <div class="text-content">${data.textContent}</div>`;


              }





              htmlContent += `<p class="timestamp">📅 ${formatTimestamp(data.timestamp)}</p>`;


              itemContentDiv.innerHTML = htmlContent;


              itemContentDiv.classList.remove('loading');


            } else {


              itemContentDiv.innerHTML = '<h2>عنصر المحتوى غير موجود!</h2>';


            }


          })


          .catch((error) => {


            console.error("Error getting document:", error);


            itemContentDiv.innerHTML = '<h2>حدث خطأ أثناء التحميل.</h2>';


          });


    } else {


      itemContentDiv.innerHTML = '<h2>رابط غير صالح.</h2>';


    }


  </script>


</body>


</html>
